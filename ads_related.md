*Ads System*
1. [background and dsp, ssp, dmp, adexchange relationship](https://blog.csdn.net/mytestmy/article/details/18987247) 

![dsp and ssp relationship ](https://img-blog.csdn.net/20140208155212531  "relationship")

![ad exchange](https://img-blog.csdn.net/20140208155221296  "ad exchange")

2. CTR introduction

![ctr recommendation system](https://img-blog.csdn.net/20140208162153031)  
CTR system

其中投放平台获取到用户的广告请求后，将请求交给CTR计算与排名模块，这个模块会获取用户数据和广告数据，再根据模型计算CTR。得到ctr后，**有两种方式使用。一种是对CTR进行排名，返回排名ctr最高的广告，然后DSP就可以根据这个CTR出价了；另一种是将广告的出价与ctr相乘，得到每个广告的收益，根据收益排名，返回收益排名最高的广告。**
投放平台获取这个广告后，根据一些条件，会把广告展示给用户，同时产生投放日志。用户会做出相应的反馈（点击或不点击），产生点击日志。
这些日志会产生三个作用。一种是存到日志数据存储工具。第二种是产生实时统计数据，以方便迅速更新特征。第三种是进行在线学习，不断更新线上的模型。
日志存储工具的日志有两种作用，一种是经过ETL，可以生成训练数据，然后用这些训练数据去训练模型，然后更新线上的模型；另一种是利用统计的方式或者其他方式产生特征。
线上模型有两种更新方式，一种是离线训练的更新方式，一种是在线学习的更新方式。
这两种方式分别用的是两种不同的训练算法。离线训练的更新方式比较慢，频率一般比较低，一般都是一天或者一个星期训练一次，用的方法一般是批量学习方式，就是对数据进行多轮的迭代，获取w的尽可能的最优解。在线学习的方式要求能快速更新线上模型，一般是来一个展示记录，就获取这个展示记录的特征，然后利用这个记录去进行只有一个数据的迭代，得到一个新的模型。


